<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dietary Consumption Tool</title>
    <link href="./img/favicon.ico" rel="icon" type="image/x-icon" />
    <link rel="stylesheet" href="./styles/styles.css" />
  </head>

  <body>
    <!-- link libraries -->
    <script src="./src/d3.v7.min.js" defer></script>
    <!-- link custom js -->
    <script src="./src/index.js" type="module" defer></script>

    <div id="title">
      <span class="bold">Dietary Exposure to Chemicals</span> from Health Canada
    </div>

    <div id="how-to-use">
      <button id="how-to-use-button">? How to use</button>
      <div id="how-to-use-text" style="display: none">
        The graph at the top of the page compares how 12 broad food groups
        contribute to intake among children, youth & adolescents, adult females
        and adult males and the whole population.
        <br />
        <br />
        1) Choose a Nutrient by selecting from the dropdown menu at the top left
        hand side of the screen To display a detailed description of what is
        included in each food group, hover over or tab to any specific food
        group in the graph or the legend. Click to isolate a food group, click
        again to restore the complete graph. Use the “Switch to” button to
        toggle between number and percentage of contribution. Download the raw
        data in csv format by clicking on the download button.
        <br />
        <br />
        2) Select an age-sex group to take a deeper look at how more specific
        food sub-groups contribute to intakes in the graph at the bottom of the
        page.
        <br />
        <br />
        Each broad food group is represented in a different color and sub-group
        contribution is shown in the outside layers. Hover over a food group for
        more information. Click on the label to take a closer look into a food
        group. Click again to restore the complete graph.
        <br />
        To see the level 2 sub-groups results in ascending order, click on the
        grey circle. Click again on the grey circle to restore the complete
        graph.
      </div>
    </div>

    <div id="data-info">
      <button id="data-info-button">* Data</button>
      <div id="data-info-text" style="display: none">
        The data used to create this interactive tool are from the following
        sources:
        <ul>
          <li>
            The Canadian Total Diet Study results from the 2008-2022 collection
            years. Available on the
            <a
              href="https://open.canada.ca/data/en/dataset/01c12f93-d14c-4005-b671-e40030a3aa2c"
              target="”_blank”"
            >
              Canadian Laboratory Information Network
            </a>
          </li>
          <li>
            <a
              href="https://open.canada.ca/data/en/dataset/ac573724-2f77-4f75-a2f4-c416d79cf130"
              target="”_blank”"
            >
              The 2008-2022 Total Diet Study Food Consumption Tables (2015
              CCHS-Nutrition)
            </a>
          </li>
        </ul>
      </div>
    </div>

    <div id="preamble">
      How much of various chemicals are people living in Canada being exposed to
      through their diet? And which foods and food groups contribute the most?
    </div>

    <div id="main-inputs-container">
      <div class="filter">
        <label for="chemical-group-input">Chemical Group</label>
        <select type="radio" id="chemical-group-input"></select>
      </div>

      <br />

      <div class="filter">
        <label for="chemical-input">Chemical</label>
        <select id="chemical-input"></select>
      </div>

      <br />

      <div class="filter">
        <label for="year-input">Year(s)</label>
        <select id="year-input" multiple></select>
      </div>

      <br />

      <div class="filter">
        <label for="lod-input"
          >Occurence values below the level of detection are equal to</label
        >
        <select id="lod-input"></select>
        <div id="lod-range"></div>
      </div>
    </div>

    <br />

    <div id="graph-select-container">
      <div>Select Graph Type:</div>
      <div id="graph-select-images-container">
        <img
          class="graph-select"
          id="results-by-age-sex-group-graph-select"
          src="./img/rbasg.png"
          alt="results by age sex group graph preview"
        />
        <img
          class="graph-select"
          id="results-by-food-group-graph-select"
          src="./img/rbfg.png"
          alt="results by food group graph preview"
        />
        <img
          class="graph-select"
          id="results-by-food-graph-select"
          src="./img/rbf.png"
          alt="results by food graph preview"
        />
      </div>
    </div>

    <br />

    <div id="main-container">
      <div id="graph-container">
        <div id="graph-title"></div>
        <div id="graph"></div>
      </div>

      <div id="graph-add-ons">
        <div id="additional-filters-container">
          <div id="units-container-input" class="filter" style="display: none">
            <label for="units-input">Units</label>
            <select id="units-input"></select>
          </div>

          <div
            id="data-format-container-input"
            class="filter"
            style="display: none"
          >
            <label for="data-format-input">Data Format</label>
            <select id="data-format-input"></select>
          </div>

          <div
            id="age-sex-group-container-input"
            class="filter"
            style="display: none"
          >
            <label for="age-sex-group-input">Age-Sex Group</label>
            <select id="age-sex-group-input"></select>
          </div>

          <div
            id="category-format-container-input"
            class="filter"
            style="display: none"
          >
            <label for="category-format-input">Category Format</label>
            <select id="category-format-input"></select>
          </div>
        </div>
        <div id="graph-legend"></div>
      </div>
    </div>
  </body>
</html>
